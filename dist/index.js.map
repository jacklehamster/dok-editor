{"version":3,"file":"index.js","sources":["../src/language/lang-utils.ts","../src/editor/node-renderer.tsx","../src/editor/obj-editor.tsx","../src/editor/dok-editor.tsx"],"sourcesContent":["import { parse } from \"yaml\";\n\nexport type Language = 'yaml'|'json'|string;\n\nexport function getObject(code: string, lang: 'yaml'|'json'|string) {\n    return lang === 'yaml' ? parse(code) : lang === 'json' ? JSON.parse(code): {};\n}\n","import React, { useMemo } from \"react\";\n\ninterface Props {\n    obj: any;\n}\n\nexport function NodeRenderer({obj}: Props) {\n    const entries = useMemo(() => Object.entries(obj), [obj]);\n    return <div>\n        {entries.map(([key, value]) => {\n            return <div key={key} style={{ marginLeft: 5, backgroundColor: Array.isArray(obj) ? \"lemonchiffon\" : \"beige\"}}>\n                <div style={{ border: Array.isArray(obj) ? 1 : 0, marginTop: 5, borderStyle: \"solid\", padding: 5, display: typeof(value) === \"object\" ? \"block\" : \"flex\" }}>\n                    {!Array.isArray(obj) && <div style={{ backgroundColor: \"yellow\", borderRadius: 10, paddingLeft: 10, paddingRight: 10, width: \"fit-content\", height: \"fit-content\" }}>{key}: </div>}\n                    <div>\n                        {typeof(value) === \"object\" ? <NodeRenderer obj={value} /> : \"\" + value}\n                    </div>\n                </div>\n            </div>;\n        })}\n    </div>;\n}","import React, { useMemo } from \"react\";\nimport { Language, getObject } from \"../language/lang-utils\";\nimport { NodeRenderer } from \"./node-renderer\";\ninterface Props {\n    language: Language;\n    code: string;\n}\n\nexport function ObjEditor({language, code}:Props) {\n    const obj = useMemo(() => getObject(code, language), [code, language]);\n    return <NodeRenderer obj={obj} />;\n}","import React from \"react\";\nimport { Language } from \"../language/lang-utils\";\nimport { Editor } from '@monaco-editor/react';\nimport { ObjEditor } from \"./obj-editor\";\n\n\ninterface Props {\n    editor: boolean;\n    code: string;\n    setCode(code: string): void;\n    language: Language;\n}\n\nexport function DokEditor({ editor, language, code, setCode }: Props) {\n    return <div>\n        {!editor && <Editor height=\"80vh\" defaultLanguage={language} value={code}\n            onChange={value => {\n                if (value && code !== value) {\n                    setCode(value);\n                }\n        }} />}\n        {editor && <ObjEditor code={code} language={language} />}\n    </div>;\n}"],"names":["getObject","code","lang","parse","JSON","NodeRenderer","_ref","obj","entries","useMemo","Object","React","map","_ref2","key","value","style","marginLeft","backgroundColor","Array","isArray","border","marginTop","borderStyle","padding","display","borderRadius","paddingLeft","paddingRight","width","height","ObjEditor","language","DokEditor","editor","setCode","Editor","defaultLanguage","onChange"],"mappings":";;;;;;;SAIgBA,SAASA,CAACC,IAAY,EAAEC,IAA0B;EAC9D,OAAOA,IAAI,KAAK,MAAM,GAAGC,UAAK,CAACF,IAAI,CAAC,GAAGC,IAAI,KAAK,MAAM,GAAGE,IAAI,CAACD,KAAK,CAACF,IAAI,CAAC,GAAE,EAAE;AACjF;;SCAgBI,YAAYA,CAAAC,IAAA;MAAEC,GAAG,GAAAD,IAAA,CAAHC,GAAG;EAC7B,IAAMC,OAAO,GAAGC,aAAO,CAAC;IAAA,OAAMC,MAAM,CAACF,OAAO,CAACD,GAAG,CAAC;KAAE,CAACA,GAAG,CAAC,CAAC;EACzD,OAAOI,0CACFH,OAAO,CAACI,GAAG,CAAC,UAAAC,KAAA;QAAEC,GAAG,GAAAD,KAAA;MAAEE,KAAK,GAAAF,KAAA;IACrB,OAAOF;MAAKG,GAAG,EAAEA,GAAG;MAAEE,KAAK,EAAE;QAAEC,UAAU,EAAE,CAAC;QAAEC,eAAe,EAAEC,KAAK,CAACC,OAAO,CAACb,GAAG,CAAC,GAAG,cAAc,GAAG;;OACjGI;MAAKK,KAAK,EAAE;QAAEK,MAAM,EAAEF,KAAK,CAACC,OAAO,CAACb,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAAEe,SAAS,EAAE,CAAC;QAAEC,WAAW,EAAE,OAAO;QAAEC,OAAO,EAAE,CAAC;QAAEC,OAAO,EAAE,OAAOV,KAAM,KAAK,QAAQ,GAAG,OAAO,GAAG;;OAC7I,CAACI,KAAK,CAACC,OAAO,CAACb,GAAG,CAAC,IAAII;MAAKK,KAAK,EAAE;QAAEE,eAAe,EAAE,QAAQ;QAAEQ,YAAY,EAAE,EAAE;QAAEC,WAAW,EAAE,EAAE;QAAEC,YAAY,EAAE,EAAE;QAAEC,KAAK,EAAE,aAAa;QAAEC,MAAM,EAAE;;OAAkBhB,GAAG,OAAS,EAClLH,0CACK,OAAOI,KAAM,KAAK,QAAQ,GAAGJ,6BAACN,YAAY;MAACE,GAAG,EAAEQ;MAAS,GAAG,EAAE,GAAGA,KAAK,CACrE,CACJ,CACJ;GACT,CAAC,CACA;AACV;;SCZgBgB,SAASA,CAAAzB,IAAA;MAAE0B,QAAQ,GAAA1B,IAAA,CAAR0B,QAAQ;IAAE/B,IAAI,GAAAK,IAAA,CAAJL,IAAI;EACrC,IAAMM,GAAG,GAAGE,aAAO,CAAC;IAAA,OAAMT,SAAS,CAACC,IAAI,EAAE+B,QAAQ,CAAC;KAAE,CAAC/B,IAAI,EAAE+B,QAAQ,CAAC,CAAC;EACtE,OAAOrB,6BAACN,YAAY;IAACE,GAAG,EAAEA;IAAO;AACrC;;SCEgB0B,SAASA,CAAA3B,IAAA;MAAG4B,MAAM,GAAA5B,IAAA,CAAN4B,MAAM;IAAEF,QAAQ,GAAA1B,IAAA,CAAR0B,QAAQ;IAAE/B,IAAI,GAAAK,IAAA,CAAJL,IAAI;IAAEkC,OAAO,GAAA7B,IAAA,CAAP6B,OAAO;EACvD,OAAOxB,0CACF,CAACuB,MAAM,IAAIvB,6BAACyB,YAAM;IAACN,MAAM,EAAC,MAAM;IAACO,eAAe,EAAEL,QAAQ;IAAEjB,KAAK,EAAEd,IAAI;IACpEqC,QAAQ,EAAE,SAAAA,SAAAvB,KAAK;MACX,IAAIA,KAAK,IAAId,IAAI,KAAKc,KAAK,EAAE;QACzBoB,OAAO,CAACpB,KAAK,CAAC;;;IAErB,EACJmB,MAAM,IAAIvB,6BAACoB,SAAS;IAAC9B,IAAI,EAAEA,IAAI;IAAE+B,QAAQ,EAAEA;IAAY,CACtD;AACV;;;;"}